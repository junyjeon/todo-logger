# 흐름

## 시스템 작동 흐름

1. 사용자가 Claude Code에 작업 요청
2. Claude가 TodoWrite로 작업 목록 생성
3. todo-logger 서브에이전트 자동 호출
4. 에이전트가 TodoList 상태 분석
5. 언어 감지 (순수 영어면 번역, 한국어면 그대로, 혼합이면 그대로)
6. 세션 ID 생성 (YYYYMMDD-HHMMSS)
7. `sessions/세션ID.md` 파일에 기록
8. `by-date/YYYY-MM-DD.md` 파일에 집계
9. "✅ 기록됨: N개 작업" 확인 메시지
10. Claude가 메인 작업 계속 진행

## 설치 흐름

1. 저장소 클론 또는 파일 다운로드
2. `agent/todo-logger.md`를 `~/.claude/agents/`에 복사
3. 스토리지 디렉토리 생성: `mkdir -p ~/.claude/todo-history/{sessions,by-date,archive}`
4. Claude Code 권한 설정 (`settings.json`)
5. `~/.claude/MODES.md`에 todo-logger 프로토콜 추가
6. 테스트 TodoWrite 실행
7. `~/.claude/todo-history/` 파일 생성 확인

## 사용 흐름

1. Claude Code 세션 시작
2. 평소처럼 작업 (TodoWrite 자동 발생)
3. 작업 후 로그 파일 확인
4. Git 커밋 시 해당 로그 파일 참조
5. 커밋 메시지에 작업 내용 복사
6. 필요시 로그 파일을 Git에 포함

## 개발 흐름

1. WSL/Claude Code 환경에서 작업 히스토리 필요성 인식
2. 일시적 TodoList와 영속적 기록의 간극 발견
3. Claude Code 서브에이전트 시스템 조사
4. todo-logger 에이전트 정의 작성
5. 이중언어 지원 로직 설계 (영어 ↔ 한국어)
6. 이중 스토리지 구조 설계 (sessions + by-date)
7. 중복 제거 로직 구현
8. 테스트 및 검증
9. 문서화 및 GitHub 배포

## 커스터마이징 흐름

1. `agent/todo-logger.md` 파일 열기
2. 스토리지 경로 수정 (기본: `~/.claude/todo-history/`)
3. 세션 ID 포맷 변경 (기본: `YYYYMMDD-HHMMSS`)
4. 언어 설정 변경 (번역 활성화/비활성화)
5. 상태 이모지 커스터마이징
6. Claude Code 재시작
7. 테스트 실행
